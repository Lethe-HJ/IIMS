{"version":3,"sources":["webpack:///./node_modules/_core-js@2.6.9@core-js/modules/es6.function.name.js","webpack:///./src/views/EditWorkItem.vue?8a40","webpack:///./src/views/EditWorkItem.vue?335f","webpack:///src/views/EditWorkItem.vue","webpack:///./src/views/EditWorkItem.vue?d25b","webpack:///./src/views/EditWorkItem.vue"],"names":["dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","this","match","e","render","_vm","_h","$createElement","_c","_self","staticClass","ref","projectAliasText","attrs","displayWorkItemDetail","project_name","on","$event","editProjectAlias","workAddressText","work_address","editWorkAddress","workNatrueText","work_property","editWorkNature","workItemText","work_intro","editWorkItem","workRemarksText","remarks","editWorkRemarks","onSubmitChange","_v","goBack","directives","name","rawName","value","expression","showEdit","domProps","target","composing","$set","_e","onEditSubmit","onEidtCancel","model","callback","$$v","isPopShow","searchByProjectAliasText","displayProjectAlias","onCancel","ConfirmProjectAlias","displayWorkAddress","ConfirmWorkAddress","displayWorkProperty","ConfirmWorkProperty","staticRenderFns","component"],"mappings":"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","file":"js/chunk-cc6536e6.d8b8bf3e.js","sourcesContent":["var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./EditWorkItem.vue?vue&type=style&index=0&id=15cd542a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./EditWorkItem.vue?vue&type=style&index=0&id=15cd542a&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('van-cell-group',[_c('van-cell',{ref:_vm.projectAliasText,attrs:{\"title\":\"项目别名\",\"is-link\":\"\",\"value\":_vm.displayWorkItemDetail.project_name},on:{\"click\":function($event){return _vm.editProjectAlias('projectAliasText')}}}),_c('van-cell',{ref:_vm.workAddressText,attrs:{\"title\":\"工作地址\",\"is-link\":\"\",\"value\":_vm.displayWorkItemDetail.work_address},on:{\"click\":function($event){return _vm.editWorkAddress('workAddressText')}}}),_c('van-cell',{ref:_vm.workNatrueText,attrs:{\"title\":\"工作性质\",\"is-link\":\"\",\"value\":_vm.displayWorkItemDetail.work_property},on:{\"click\":function($event){return _vm.editWorkNature('workNatrueText')}}}),_c('van-cell',{ref:_vm.workItemText,attrs:{\"title\":\"工作简介\",\"value\":_vm.displayWorkItemDetail.work_intro},on:{\"click\":function($event){return _vm.editWorkItem('workItemText')}}}),_c('van-cell',{ref:_vm.workRemarksText,attrs:{\"title\":\"备注\",\"value\":_vm.displayWorkItemDetail.remarks},on:{\"click\":function($event){return _vm.editWorkRemarks('workRemarksText')}}}),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.onSubmitChange}},[_vm._v(\"确认添加\")]),_c('van-button',{staticClass:\"return-btn\",attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showEditProject),expression:\"showEditProject\"}],staticClass:\"edit-project\"},[(_vm.showEdit == 'workItemText')?_c('div',{staticClass:\"edit-info\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.displayWorkItemDetail.work_intro),expression:\"displayWorkItemDetail.work_intro\"}],staticClass:\"daily-textarea\",attrs:{\"rows\":\"20\",\"placeholder\":\"请输入工作简介\"},domProps:{\"value\":(_vm.displayWorkItemDetail.work_intro)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.displayWorkItemDetail, \"work_intro\", $event.target.value)}}})]):_vm._e(),(_vm.showEdit == 'workRemarksText')?_c('div',{staticClass:\"edit-info\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.displayWorkItemDetail.remarks),expression:\"displayWorkItemDetail.remarks\"}],staticClass:\"daily-textarea\",attrs:{\"rows\":\"20\",\"placeholder\":\"请输入工作备注\"},domProps:{\"value\":(_vm.displayWorkItemDetail.remarks)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.displayWorkItemDetail, \"remarks\", $event.target.value)}}})]):_vm._e(),_c('div',{staticClass:\"edit-btn\"},[_c('van-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onEditSubmit}},[_vm._v(\"完成\")]),_c('van-button',{staticClass:\"return-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onEidtCancel}},[_vm._v(\"取消\")])],1)]),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.isPopShow),callback:function ($$v) {_vm.isPopShow=$$v},expression:\"isPopShow\"}},[(_vm.showEdit == 'projectAliasText')?_c('van-search',{attrs:{\"placeholder\":\"请输入搜索关键词\",\"shape\":\"round\"},model:{value:(_vm.searchByProjectAliasText),callback:function ($$v) {_vm.searchByProjectAliasText=$$v},expression:\"searchByProjectAliasText\"}}):_vm._e(),(_vm.showEdit == 'projectAliasText')?_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.displayProjectAlias,\"title\":\"选择项目别名\"},on:{\"cancel\":_vm.onCancel,\"confirm\":_vm.ConfirmProjectAlias}}):_vm._e(),(_vm.showEdit == 'workAddressText')?_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.displayWorkAddress,\"title\":\"选择工作地址\"},on:{\"cancel\":_vm.onCancel,\"confirm\":_vm.ConfirmWorkAddress}}):_vm._e(),(_vm.showEdit == 'workNatrueText')?_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.displayWorkProperty,\"title\":\"选择工作性质\"},on:{\"cancel\":_vm.onCancel,\"confirm\":_vm.ConfirmWorkProperty}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <van-cell-group>\r\n      <van-cell title=\"项目别名\" is-link :value=\"displayWorkItemDetail.project_name\" :ref=\"projectAliasText\"\r\n                @click=\"editProjectAlias('projectAliasText')\"/>\r\n      <van-cell title=\"工作地址\" is-link :value=\"displayWorkItemDetail.work_address\" :ref=\"workAddressText\"\r\n                @click=\"editWorkAddress('workAddressText')\"/>\r\n      <van-cell title=\"工作性质\" is-link :value=\"displayWorkItemDetail.work_property\" :ref=\"workNatrueText\"\r\n                @click=\"editWorkNature('workNatrueText')\"/>\r\n      <van-cell title=\"工作简介\" :value=\"displayWorkItemDetail.work_intro\" :ref=\"workItemText\"\r\n                @click=\"editWorkItem('workItemText')\"/>\r\n      <van-cell title=\"备注\" :value=\"displayWorkItemDetail.remarks\" :ref=\"workRemarksText\"\r\n                @click=\"editWorkRemarks('workRemarksText')\"/>\r\n      <van-button type=\"primary\" size=\"large\" @click=\"onSubmitChange\">确认添加</van-button>\r\n      <van-button class=\"return-btn\" type=\"primary\" size=\"large\" @click=\"goBack\">返回</van-button>\r\n    </van-cell-group>\r\n    <div class=\"edit-project\" v-show=\"showEditProject\">\r\n      <div class=\"edit-info\" v-if=\"showEdit == 'workItemText'\">\r\n        <textarea class=\"daily-textarea\" rows=\"20\" v-model=\"displayWorkItemDetail.work_intro\"\r\n                  placeholder=\"请输入工作简介\"></textarea>\r\n      </div>\r\n      <div class=\"edit-info\" v-if=\"showEdit == 'workRemarksText'\">\r\n        <textarea class=\"daily-textarea\" rows=\"20\" v-model=\"displayWorkItemDetail.remarks\"\r\n                  placeholder=\"请输入工作备注\"></textarea>\r\n      </div>\r\n      <div class=\"edit-btn\">\r\n        <van-button type=\"primary\" @click=\"onEditSubmit\">完成</van-button>\r\n        <van-button class=\"return-btn\" type=\"primary\" @click=\"onEidtCancel\">取消</van-button>\r\n      </div>\r\n    </div>\r\n    <van-popup v-model=\"isPopShow\" position=\"bottom\">\r\n      <van-search placeholder=\"请输入搜索关键词\" shape=\"round\" v-if=\"showEdit == 'projectAliasText'\"\r\n                  v-model=\"searchByProjectAliasText\"/>\r\n      <van-picker\r\n        show-toolbar\r\n        v-if=\"showEdit == 'projectAliasText'\"\r\n        :columns=\"displayProjectAlias\"\r\n        title=\"选择项目别名\"\r\n        @cancel=\"onCancel\"\r\n        @confirm=\"ConfirmProjectAlias\"/>\r\n      <van-picker\r\n        show-toolbar\r\n        v-if=\"showEdit == 'workAddressText'\"\r\n        :columns=\"displayWorkAddress\"\r\n        title=\"选择工作地址\"\r\n        @cancel=\"onCancel\"\r\n        @confirm=\"ConfirmWorkAddress\"/>\r\n      <van-picker\r\n        show-toolbar\r\n        v-if=\"showEdit == 'workNatrueText'\"\r\n        :columns=\"displayWorkProperty\"\r\n        title=\"选择工作性质\"\r\n        @cancel=\"onCancel\"\r\n        @confirm=\"ConfirmWorkProperty\"/>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"EditWorkItem\",\r\n    components: {},\r\n    data() {\r\n      return {\r\n        showEditProject: false,\r\n        showEdit: '',\r\n        projectAliasText: 'projectAliasText',\r\n        workAddressText: 'workAddressText',\r\n        workNatrueText: 'workNatrueText',\r\n        workItemText: 'workItemText',\r\n        workRemarksText: 'workRemarksText',\r\n        isPopShow: false,\r\n        searchByProjectAliasText: '',\r\n        searchProjectAlias: [],\r\n        datePicker: '',\r\n        displayProjectAlias: [],\r\n        displayWorkAddress: ['公司', '出差现场'],\r\n        displayWorkProperty: [],\r\n        projectAliasId: [],\r\n        workPropertyId: [],\r\n        allProjectAlias: [], // 保存后台所有项目别名数据\r\n        selectProjectAlias: '', // 选择的项目别名\r\n        changeValue: '',\r\n        initWorkIntro: ''\r\n      };\r\n    },\r\n    computed: {\r\n      // 保存后台请求到的工作简介数据\r\n      displayWorkItemDetail() {\r\n        return this.$store.state.displayWorkItemDetail;\r\n      },\r\n      judgeAdd() {\r\n        return this.$store.state.judgeAdd;\r\n      }\r\n    },\r\n    mounted() {\r\n      var projectName = this.$route.query.projectName;\r\n      this.$store.commit('storeDisplayWorkItemDetail', {project_name: projectName});\r\n      // 请求工作项详细接口的详细信息\r\n      var id = this.$route.query.introId; // 获取父组件（点击工作项，进入工作项详细）的数据id\r\n      // 如果id=-1则标明当前为新增一个工作项\r\n      if (id !== -1) {\r\n        var params = {intro_id: id};\r\n        this.$api.get('/iims/intros/edit/data?', params).then(res => {\r\n          if (res.status === 1) {\r\n            var datas = res.data;\r\n            datas.work_address = parseInt(datas.work_address);\r\n            if (datas.work_address === 1) {\r\n              datas.work_address = '公司';\r\n            } else if (datas.work_address === 2) {\r\n              datas.work_address = '出差现场';\r\n            }\r\n            console.log(12, datas)\r\n            this.$store.commit('storeDisplayWorkItemDetail', datas); // 得到工作项详细数据\r\n          }\r\n        }, res => {\r\n          this.$myToast('数据加载失败', 'warning', 1500);\r\n        });\r\n      } else { // 如果是新增则需要新增加一个键值对存在的json数据，但所有值为空的数据 ,把storeDisplayWorkItemDetail置为空\r\n        this.$store.commit('storeDisplayWorkItemDetail', {});\r\n      }\r\n\r\n      // 请求项目别名下拉框数据接口\r\n      this.$api.get('/iims/common/projects/data?limit=20').then(res => {\r\n        if (res.status === 1) {\r\n          console.log(\"项目别名数据\", res);\r\n          var datas = [];\r\n          res.data.projects.some((item, i) => {\r\n            datas.push(item);\r\n          })\r\n          // 将每个项目别名下的name字段加到this.displayProjectAlias.name中，方便调用\r\n          var temp = [];\r\n          // 在这里初始时将前20条id保存下来,并得到初始时项目别名的id\r\n          // 注意此处可能会有mounted，computed执行的先后顺序问题\r\n          for (var i = 0; i < datas.length; i++) {\r\n            temp.push(datas[i].name);\r\n            this.projectAliasId.push(datas[i].id);\r\n          }\r\n          console.log(\"searchProjectAlias\", this.searchProjectAlias);\r\n          // 将请求到的项目别名中的name放在this.displayProjectAlias中\r\n          this.displayProjectAlias = temp;\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n      // 请求工作性质下拉框数据\r\n      this.$api.get('/iims/common/property/data').then(res => {\r\n        if (res.status === 1) {\r\n          console.log(\"工作性质数据\", res);\r\n          var datas = res.data;\r\n          var temp1 = [];\r\n          console.log(\"temp1\", temp1);\r\n          datas.property.some((item, i) => {\r\n            temp1.push(item);\r\n          });\r\n          var temp2 = [];\r\n          temp1.some((item, i) => {\r\n            temp2.push(item.name);\r\n            this.workPropertyId.push(item.id);\r\n          });\r\n          this.displayWorkProperty = temp2;\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n    },\r\n    methods: {\r\n      ConfirmProjectAlias(value, index) {\r\n        this.displayWorkItemDetail.project_name = value;\r\n        this.displayWorkItemDetail.project_id = this.projectAliasId[index];\r\n        console.log(\"未搜索的id\", index, this.displayWorkItemDetail.project_id);\r\n        // 获取搜索时下拉框中选中的项目别名的project_id\r\n        this.searchProjectAlias.some((item, i) => {\r\n          if (item.name == value) {\r\n            this.displayWorkItemDetail.project_id = item.id;\r\n            return true;\r\n          }\r\n        });\r\n        console.log(\"搜索时的id\", this.displayWorkItemDetail.project_id);\r\n        this.isPopShow = false;\r\n      },\r\n      ConfirmWorkAddress(value) {\r\n        this.displayWorkItemDetail.work_address = value;\r\n        this.isPopShow = false;\r\n      },\r\n      ConfirmWorkProperty(value, index) {\r\n        this.displayWorkItemDetail.work_property = value;\r\n        this.displayWorkItemDetail.work_property_id = this.workPropertyId[index];\r\n        console.log(this.displayWorkItemDetail.work_property_id);\r\n        this.isPopShow = false;\r\n      },\r\n      //处理提交修改按钮\r\n      onSubmitChange: function () {\r\n        if(this.displayWorkItemDetail.work_address === '公司') {\r\n          this.displayWorkItemDetail.work_address = 1;\r\n        } else if (this.displayWorkItemDetail.work_address === '出差现场') {\r\n          this.displayWorkItemDetail.work_address = 2;\r\n        }\r\n        if (!this.judgeAdd) { // 如果并非新增\r\n          var obj = {\r\n            intro_id: this.displayWorkItemDetail.intro_id,\r\n            project_id: this.displayWorkItemDetail.project_id,\r\n            work_address: this.displayWorkItemDetail.work_address,\r\n            work_property_id: this.displayWorkItemDetail.work_property_id, //从工作性质中获取\r\n            work_intro: this.displayWorkItemDetail.work_intro,\r\n            remarks: this.displayWorkItemDetail.remarks,\r\n          };\r\n          this.$api.put('/iims/intros/edit?', obj).then(res => {\r\n            if (res.status === 1) {\r\n              this.$myToast('修改成功', 'success', '1500');\r\n              this.$router.push({ // 修改成功之后跳转到WorkItemManage\r\n                name: \"WorkItemManage\"\r\n              });\r\n            }\r\n          }, res => {\r\n            this.$myToast('修改失败', 'error', '1500');\r\n          });\r\n        } else {\r\n          var enterItemFormDaily = this.$route.query.enterItemFormDaily;\r\n          if(enterItemFormDaily) {\r\n            var projectId = this.$route.query.projectId;\r\n            this.displayWorkItemDetail.project_id = projectId;\r\n          }\r\n          var obj = {\r\n            project_id: this.displayWorkItemDetail.project_id,\r\n            work_address: this.displayWorkItemDetail.work_address,\r\n            work_property_id: this.displayWorkItemDetail.work_property_id,\r\n            work_intro: this.displayWorkItemDetail.work_intro,\r\n            remarks: this.displayWorkItemDetail.remarks,\r\n          };\r\n          this.$api.post('/iims/intros/add', obj).then(res => {\r\n            if (res.status === 1) {\r\n              this.$myToast('新增成功', 'success', 1500);\r\n              // 如果是从编辑工作日报跳转过来的，在提交之后也需转到编辑工作日报页\r\n              if(enterItemFormDaily) {\r\n                console.log(enterItemFormDaily);\r\n                this.$router.push({\r\n                  name: \"add_work_daily\",\r\n                  query: {enterItemFormDaily: false}\r\n                });\r\n              } else{\r\n                this.$router.push({\r\n                  name: \"WorkItemManage\"\r\n                });\r\n              }\r\n            }\r\n          }).catch(err => {\r\n            this.$myToast('新增失败', 'error', '1500');\r\n          })\r\n        }\r\n      },\r\n      searchWorkPropertyIdByName: function (workPropertyName) {\r\n        for (var i = 0; i < this.workPropertyId.length; ++i) {\r\n          if (this.displayWorkProperty[i] == workPropertyName) {\r\n            return this.workPropertyId[i];\r\n          }\r\n        }\r\n        return '';\r\n      },\r\n      // 请求项目别名查询接口--重复代码\r\n      getSearchProjectAlias: function (value) {\r\n        var params = {query: value};\r\n        this.$api.get('/iims/common/projects/query?', params).then(res => {\r\n          if (res.status === 1) {\r\n            var searchProjectAliasTemp = [];\r\n            res.data.projects.some((item, i) => {\r\n              searchProjectAliasTemp.push(item);\r\n            })\r\n            // 保存按关键字搜索到的所有项目别名,每一个项目别名包括id和name\r\n            this.searchProjectAlias = searchProjectAliasTemp;\r\n            // console.log('查询到的项目别名{id,name}',this.searchProjectAlias);\r\n            var nameTemp = [];\r\n            for (var i = 0; i < res.data.projects.length; i++) {\r\n              nameTemp.push(res.data.projects[i].name);\r\n            }\r\n            this.displayProjectAlias = nameTemp;\r\n            // console.log('查询到的项目别名name',this.displayProjectAlias);\r\n          }\r\n        }).catch(err => {\r\n          console.log(err);\r\n        });\r\n      },\r\n\r\n      goBack: function () {\r\n        /*this.$router.push({\r\n          path: '/WorkItemManage'\r\n        });*/\r\n        this.$router.go(-1);\r\n      },\r\n      showPicker1(value) {\r\n        if (this.initWorkIntro && this.showEditProject) {\r\n          this.displayWorkDailyDetail.work_intro = this.initWorkMatters;\r\n        }\r\n        this.isPopShow = true;\r\n        this.showEditProject = false;\r\n        this.showEdit = value;\r\n      },\r\n      hiddenPicker() { // 隐藏下拉框\r\n        this.isPopShow = false;\r\n        this.datePicker = \"\";\r\n      },\r\n      editProjectAlias: function (value) {\r\n        this.showPicker1(value);\r\n      },\r\n      editWorkAddress: function (value) {\r\n        this.showPicker1(value);\r\n      },\r\n      editWorkNature: function (value) {\r\n        this.showPicker1(value);\r\n      },\r\n      showPicker2(value) {\r\n        this.isPopShow = false;\r\n        this.showEditProject = true;\r\n        this.showEdit = value;\r\n      },\r\n      editWorkItem: function (value) {\r\n        this.showPicker2(value);\r\n        this.initWorkIntro = this.displayWorkItemDetail.work_intro;\r\n      },\r\n      editWorkRemarks: function (value) {\r\n        this.showPicker2(value);\r\n      },\r\n      onEidtCancel: function () {\r\n        this.isPopShow = false;\r\n        this.showEditProject = false;\r\n        this.showEdit = '';\r\n        this.displayWorkItemDetail.work_intro = this.initWorkIntro;\r\n      },\r\n      onEditSubmit: function () {\r\n        this.isPopShow = false;\r\n        this.showEditProject = false;\r\n        this.showEdit = '';\r\n      },\r\n      onCancel() {\r\n        this.isPopShow = false;\r\n      },\r\n    },\r\n    watch: {\r\n      searchByProjectAliasText(text) {\r\n        this.getSearchProjectAlias(text);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .container {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    justify-content: space-between;\r\n\r\n    .van-hairline--top-bottom::after {\r\n      border-width: 0;\r\n    }\r\n\r\n    .edit-project {\r\n      margin: auto;\r\n      border: 1px solid #f1f1f1;\r\n      background: #fff;\r\n      position: fixed;\r\n      left: 0;\r\n      right: 0;\r\n      height: 100%;\r\n      display: flex;\r\n      flex-flow: column;\r\n      justify-content: space-between;\r\n\r\n      .edit-info {\r\n        display: flex;\r\n        flex-flow: column;\r\n\r\n        .daily-textarea {\r\n          border: 0;\r\n        }\r\n      }\r\n\r\n      .edit-btn {\r\n        float: right;\r\n        margin-bottom: 0.4rem;\r\n        display: flex;\r\n        flex-flow: row;\r\n\r\n        .return-btn {\r\n          color: #828282;\r\n          background-color: #EEF0F3;\r\n          border: 0.04878rem solid #bfbfbf;\r\n        }\r\n      }\r\n\r\n      .van-button--primary {\r\n        background-color: #fe8f01;\r\n        color: #fff;\r\n        height: 40px;\r\n        line-height: 0;\r\n        border: none;\r\n        margin: auto;\r\n        border-radius: 10rem;\r\n        width: 40%;\r\n      }\r\n    }\r\n\r\n    .van-button--large {\r\n      display: block;\r\n      width: 90%;\r\n      margin: auto;\r\n      border-radius: 25px;\r\n      background-color: #fe8f01;\r\n      border: 1px solid #fe8f01;\r\n      margin-top: 8%;\r\n      height: 40px;\r\n      line-height: 40px;\r\n    }\r\n\r\n    .return-btn {\r\n      color: #828282;\r\n      background-color: #EEF0F3;\r\n      border: 0.04878rem solid #bfbfbf;\r\n    }\r\n\r\n    .bottom {\r\n      align-items: flex-end;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./EditWorkItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./EditWorkItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditWorkItem.vue?vue&type=template&id=15cd542a&scoped=true&\"\nimport script from \"./EditWorkItem.vue?vue&type=script&lang=js&\"\nexport * from \"./EditWorkItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditWorkItem.vue?vue&type=style&index=0&id=15cd542a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15cd542a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}